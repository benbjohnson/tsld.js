(function(){function require(path,parent,orig){var resolved=require.resolve(path);if(null==resolved){orig=orig||path;parent=parent||"root";var err=new Error('Failed to require "'+orig+'" from "'+parent+'"');err.path=orig;err.parent=parent;err.require=true;throw err}var module=require.modules[resolved];if(!module.exports){module.exports={};module.client=module.component=true;module.call(this,module.exports,require.relative(resolved),module)}return module.exports}require.modules={};require.aliases={};require.resolve=function(path){if(path.charAt(0)==="/")path=path.slice(1);var paths=[path,path+".js",path+".json",path+"/index.js",path+"/index.json"];for(var i=0;i<paths.length;i++){var path=paths[i];if(require.modules.hasOwnProperty(path))return path;if(require.aliases.hasOwnProperty(path))return require.aliases[path]}};require.normalize=function(curr,path){var segs=[];if("."!=path.charAt(0))return path;curr=curr.split("/");path=path.split("/");for(var i=0;i<path.length;++i){if(".."==path[i]){curr.pop()}else if("."!=path[i]&&""!=path[i]){segs.push(path[i])}}return curr.concat(segs).join("/")};require.register=function(path,definition){require.modules[path]=definition};require.alias=function(from,to){if(!require.modules.hasOwnProperty(from)){throw new Error('Failed to alias "'+from+'", it does not exist')}require.aliases[to]=from};require.relative=function(parent){var p=require.normalize(parent,"..");function lastIndexOf(arr,obj){var i=arr.length;while(i--){if(arr[i]===obj)return i}return-1}function localRequire(path){var resolved=localRequire.resolve(path);return require(resolved,parent,path)}localRequire.resolve=function(path){var c=path.charAt(0);if("/"==c)return path.slice(1);if("."==c)return require.normalize(p,path);var segs=parent.split("/");var i=lastIndexOf(segs,"deps")+1;if(!i)i=0;path=segs.slice(0,i+1).join("/")+"/deps/"+path;return path};localRequire.exists=function(path){return require.modules.hasOwnProperty(localRequire.resolve(path))};return localRequire};require.register("tsld/scripts/layout.js",function(exports,require,module){"use strict";var PAD=5;function Layout(selector){this.selector=selector;this.prevTitle=this.prevSubtitle="";this.padding={top:70,bottom:160,left:0,right:0};this.containerClass="container"}Layout.prototype=playback.layout();Layout.prototype.initialize=function(){var self=this;this.container=$(this.selector);this.svg=d3.select(this.selector).append("svg").attr("class","tsld");this.g=this.svg.append("g").attr("class","tsld");this.titleContainer=d3.select(this.selector).append("div").attr("class","tsld title-container "+this.containerClass).style("display","none");this.subtitleContainer=d3.select(this.selector).append("div").attr("class","tsld subtitle-container "+this.containerClass);this.scales={x:d3.scale.linear(),y:d3.scale.linear(),w:d3.scale.linear(),h:d3.scale.linear(),r:function(v){return Math.min(self.scales.w(v),self.scales.h(v))},font:function(v){return Math.min(self.scales.font.x(v),self.scales.font.y(v))},size:function(v){return Math.min(self.scales.w(v),self.scales.h(v))}};this.scales.font.x=d3.scale.linear();this.scales.font.y=d3.scale.linear();this.invalidateSize()};Layout.prototype.invalidate=function(){var zoom,model=this.model(),width=this.container.width(),height=$(window).height()-this.padding.top-this.padding.bottom,viewport={width:width-PAD*2,height:height-PAD*2};this.svg.attr("width",width).attr("height",height);this.g.attr("transform","translate("+PAD+","+PAD+")");if(model){zoom={x:(model.domains.x[1]-model.domains.x[0])/100,y:(model.domains.y[1]-model.domains.y[0])/100};this.scales.x.domain(model.domains.x).range([0,viewport.width]);this.scales.y.domain(model.domains.y).range([0,viewport.height]);this.scales.w.domain([0,model.domains.x[1]-model.domains.x[0]]).range([0,viewport.width]);this.scales.h.domain([0,model.domains.y[1]-model.domains.y[0]]).range([0,viewport.height]);this.scales.font.x.domain([0,100*zoom.x]).range([0,viewport.width*.35]);this.scales.font.y.domain([0,100*zoom.y]).range([0,viewport.height*.4]);this.invalidateTitle();this.invalidateSubtitle()}};Layout.prototype.invalidateTitle=function(){var titleHTML,titleHeight,self=this,pct=.4,viewportHeight=$(window).height()-this.padding.top-this.padding.bottom,top=this.padding.top+viewportHeight*pct,title=this.model().title,html='<div class="title">'+title+"</div>";if(this.prevTitle!==title){if(this.prevTitle===""&&title!==""){this.titleContainer.style("display","block");this.titleContainer.html(html);this.fadeIn($(this.titleContainer[0][0]))}else if(this.prevTitle!==""&&title===""){this.fadeOut($(this.titleContainer[0][0]),function(){self.title.html(html);self.title.style("display","none")})}else{this.titleContainer.html(html)}this.prevTitle=title}titleHTML=this.titleContainer.select(".title");titleHTML.style("top",top-$(titleHTML[0][0]).height()/2+"px")};Layout.prototype.invalidateSubtitle=function(){var self=this,text=this.model().subtitle,html='<div class="subtitle">'+text+"</div>";if(this.prevSubtitle!==text){if(this.prevSubtitle===""&&text!==""){this.subtitleContainer.style("display","block");this.subtitleContainer.html(html);this.fadeIn($(this.subtitleContainer[0][0]))}else if(this.prevSubtitle!==""&&text===""){this.fadeOut($(this.subtitleContainer[0][0]))}else{this.subtitleContainer.html(html)}this.prevSubtitle=text}};Layout.prototype.invalidateSize=function(){if(this.model()){this.invalidate()}};Layout.prototype.fadeIn=function(el){return el.css("visibility","visible").hide().fadeIn(600)};Layout.prototype.fadeOut=function(el,complete){return el.css("visibility","hidden").fadeOut(600,complete)};module.exports=Layout});require.register("tsld/scripts/index.js",function(exports,require,module){"use strict";var Tsld=require("./tsld");module.exports=new Tsld});require.register("tsld/scripts/tsld.js",function(exports,require,module){"use strict";var Layout=require("./layout");function Tsld(){}Tsld.prototype.layout=function(){return new Layout};module.exports=Tsld;Tsld.VERSION=Tsld.prototype.VERSION="0.1.0"});require.alias("tsld/scripts/index.js","tsld/index.js");if(typeof exports=="object"){module.exports=require("tsld")}else if(typeof define=="function"&&define.amd){define(function(){return require("tsld")})}else{this["tsld"]=require("tsld")}})();